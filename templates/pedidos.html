{% extends "base.html" %}
{% block title %}Pedidos - ERP{% endblock %}
{% block content %}
<h1 class="mt-4">Pedidos</h1>

<a href="{{ url_for('pedidos_bp.novo_pedido') }}"
   class="btn btn-success mb-3"
   style="background-color: #045cd0; color: white;">
    <i class="bi bi-cart-plus"></i> Novo Pedido
</a>

<div class="table-responsive">
    <table class="table table-striped table-bordered align-middle">
        <thead class="table-dark">
            <tr>
                <th>ID</th>
                <th>Nome</th>
                <th>Data do pedido</th>
                <th>Status</th>
                <th>Ações</th>
            </tr>
        </thead>
        <tbody>
            {% for pedido in pedidos %}
            <tr>
                <td>{{ pedido.id }}</td>
                <td>{{ pedido.cliente.nome }}</td>
                <td>{{ pedido.data_pedido.strftime('%d/%m/%Y %H:%M') }}</td>
                <td>{{ pedido.status }}</td>
                <td class="text-nowrap">
                    <div class="d-flex gap-2 mt-3">
                        <a href="{{ url_for('pedidos_bp.editar_pedido', id=pedido.id) }}"
                           class="btn btn-primary btn-sm rounded"
                           style="background-color: #00c24d; color: white;">
                            <i class="bi bi-pencil"></i>
                        </a>
                        <a href="{{ url_for('pedidos_bp.excluir_pedido', id=pedido.id) }}"
                           class="btn btn-danger btn-sm rounded"
                           style="background-color: #ff1212; color: white;"
                           onclick="return confirm('Tem certeza que deseja excluir?')">
                            <i class="bi bi-trash"></i>
                        </a>
                    </div>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}