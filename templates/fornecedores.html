{% extends "base.html" %}
{% block title %}Fornecedores - ERP{% endblock %}

{% block content %}
<h1 class="mt-4">Fornecedores</h1>

<a href="{{ url_for('fornecedores_bp.novo') }}" class="btn btn-success mb-3" style="background-color: #045cd0; color: white;">
    <i class="bi bi-plus-circle"></i> Novo Fornecedor
</a>

<div class="table-responsive">
    <table class="table table-striped table-bordered align-middle">
        <thead class="table-dark text-center">
            <tr>
                <th style="width: 60px;">ID</th>
                <th>Razão Social</th>
                <th>Nome Fantasia</th>
                <th>Email</th>
                <th>Telefone</th>
                <th>CPF/CNPJ</th>
                <th>Tipo</th>
                <th>Endereço</th>
                <th style="width: 130px;">Ações</th>
            </tr>
        </thead>
        <tbody>
            {% for fornecedor in fornecedores %}
            <tr>
                <td class="text-center">{{ fornecedor.id }}</td>
                <td>{{ fornecedor.razao_social }}</td>
                <td>{{ fornecedor.nome_fantasia }}</td>
                <td>{{ fornecedor.email }}</td>
                <td>{{ fornecedor.telefone }}</td>
                <td>{{ fornecedor.cpf_cnpj }}</td>
                <td class="text-center">{{ fornecedor.tipo_fornecedor }}</td>
                <td class="text-truncate" style="max-width: 300px;" title="{{ fornecedor.endereco }}, CEP: {{ fornecedor.cep }}">
                    {{ fornecedor.endereco }}, CEP: {{ fornecedor.cep }}
                </td>
                <td class="text-nowrap">
                    <div class="d-grid gap-2 d-md-flex justify-content-md-between mt-3">
                        <a href="{{ url_for('fornecedores_bp.excluir', id=fornecedor.id) }}"
                            class="btn btn-danger btn-sm rounded" style="background-color: #ff1212; color: white;"
                            onclick="return confirm('Tem certeza que deseja excluir?')"> <i class="bi bi-trash"></i>
                        </a>
                        <a href="{{ url_for('fornecedores_bp.editar', id=fornecedor.id) }}"
                            class="btn btn-primary btn-sm me-1 rounded" style="background-color: #00c24d; color: white;"> <i class="bi bi-pencil"></i>
                        </a>
                    </div>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}